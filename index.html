<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–°–µ—Ä—ë–≥–∞: –ñ–∏–∑–Ω—å –∏ –§—å—é—á–µ—Ä—Å—ã</title>
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-color: transparent;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --glass-bg: rgba(15, 23, 42, 0.5);
            --glass-border: rgba(255, 255, 255, 0.08);
            --primary: #3b82f6;
            --primary-hover: #2563eb;
            --danger: #ef4444;
            --warning: #f59e0b;
            --wife: #ec4899;
            --neighbor: #8b5cf6;
            --money: #fbbf24;
            --good: #10b981;
            --font-heading: 'Unbounded', sans-serif;
            --font-body: 'Inter', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body,
        html {
            width: 100%;
            height: 100%;
            background-color: transparent;
            color: var(--text-primary);
            font-family: var(--font-body);
            overflow: hidden;
        }

        /* Shader Canvas */
        #shader-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            pointer-events: none;
        }

        #app {
            width: 100%;
            max-width: 500px;
            height: 100%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            position: relative;
            background: rgba(15, 23, 42, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        @media (min-width: 600px) {
            #app {
                max-width: 480px;
                box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
                border-left: 1px solid var(--glass-border);
                border-right: 1px solid var(--glass-border);
            }
        }

        .screen {
            display: none;
            height: 100%;
            flex-direction: column;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Start & End Screen */
        .center-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 24px;
            text-align: center;
            overflow-y: auto;
        }

        h1 {
            font-family: var(--font-heading);
            font-size: 2.2rem;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #60a5fa, #a855f7);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
        }

        h2 {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            margin-bottom: 16px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        p {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 16px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
        }

        .btn {
            width: 100%;
            padding: 18px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            font-family: var(--font-heading);
            font-size: 1.05rem;
            font-weight: 700;
            color: #fff;
            background: rgba(59, 130, 246, 0.8);
            backdrop-filter: blur(5px);
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
            transition: transform 0.1s, background 0.2s, box-shadow 0.2s;
            margin-top: 10px;
        }

        .btn:active {
            transform: scale(0.96);
            background: rgba(37, 99, 235, 0.9);
        }

        /* App Header */
        .app-header {
            background: rgba(15, 23, 42, 0.6);
            padding: 16px 20px;
            border-bottom: 1px solid var(--glass-border);
            flex-shrink: 0;
            z-index: 10;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            font-family: var(--font-heading);
        }

        .money-text {
            font-size: 1.25rem;
            color: var(--money);
            font-weight: 700;
            text-shadow: 0 2px 8px rgba(251, 191, 36, 0.4);
        }

        .day-text {
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        .header-bars {
            display: flex;
            gap: 12px;
        }

        .stat-item {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(0, 0, 0, 0.4);
            padding: 6px 8px;
            border-radius: 8px;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-icon {
            flex-shrink: 0;
        }

        .bar-bg {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease, background 0.3s;
        }

        .stress-fill {
            background: linear-gradient(90deg, var(--warning), var(--danger));
        }

        .wife-fill {
            background: linear-gradient(90deg, #f472b6, var(--wife));
        }

        .neighbor-fill {
            background: linear-gradient(90deg, #a78bfa, var(--neighbor));
        }

        /* App Body */
        .app-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding-bottom: 40px;
        }

        .app-body::-webkit-scrollbar {
            width: 4px;
        }

        .app-body::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        .story-card {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 22px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .story-title {
            font-size: 1.4rem;
            color: #fff;
            margin-bottom: 12px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .story-text {
            font-size: 1rem;
            color: #e2e8f0;
            line-height: 1.6;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        .event-log-mini {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .log-item {
            font-size: 0.85rem;
            padding: 12px 14px;
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.5);
            border-left: 3px solid var(--primary);
            animation: slideIn 0.3s ease;
            color: #cbd5e1;
            line-height: 1.4;
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
        }

        .log-item.good {
            border-color: var(--good);
        }

        .log-item.bad {
            border-color: var(--danger);
        }

        .log-item.system {
            border-color: #a855f7;
            font-style: italic;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-15px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .choices-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: auto;
        }

        .choice-btn {
            text-align: left;
            padding: 16px 20px;
            border-radius: 14px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            font-family: var(--font-body);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: background 0.2s, transform 0.1s;
            gap: 10px;
        }

        .choice-btn:active {
            transform: scale(0.97);
            background: rgba(59, 130, 246, 0.4);
        }

        .choice-text {
            flex: 1;
            line-height: 1.4;
        }

        .choice-hint {
            font-size: 0.8rem;
            color: var(--text-secondary);
            white-space: nowrap;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
            width: 100%;
        }

        .stat-box {
            background: rgba(0, 0, 0, 0.5);
            padding: 16px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
        }

        .stat-box span {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }

        .stat-box strong {
            font-size: 1.3rem;
            font-family: var(--font-heading);
            color: #fff;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body>
    <canvas id="shader-canvas"></canvas>
    <div id="app">

        <!-- Screen: Start -->
        <section id="screen-start" class="screen active">
            <div class="center-content">
                <h1>–°–µ—Ä—ë–≥–∞</h1>
                <p>–í—ã ‚Äî –°–µ—Ä—ë–≥–∞ –∏–∑ –ú–æ—Å–∫–≤—ã. –£—Å—Ç–∞–ª–∏ –∂–∏—Ç—å –æ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã –¥–æ –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ —Ä–µ—à–∏–ª–∏ "–ø—Ä–æ–±–∏—Ç—å –ø–æ—Ç–æ–ª–æ–∫" —á–µ—Ä–µ–∑
                    –ú–æ—Å–∫–æ–≤—Å–∫—É—é –±–∏—Ä–∂—É (MOEX) –∏ —Ñ—å—é—á–µ—Ä—Å—ã.</p>
                <p>–î–æ–º–∞ —Å—É—Ä–æ–≤–∞—è –∂–µ–Ω–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è (–∫–æ–ø–∏—Ç –Ω–∞ —Ä–µ–º–æ–Ω—Ç), –≤ —Å–æ—Å–µ–¥–Ω–µ–º –ø–æ–¥—ä–µ–∑–¥–µ ‚Äî —Å—Ç—Ä–æ–∏—Ç–µ–ª—å –ü–∞–ª—ã—á (–Ω–∞–¥–µ–∂–Ω—ã–π
                    —Å–æ–±—É—Ç—ã–ª—å–Ω–∏–∫).</p>
                <p>–í—Å–µ–≥–æ –æ–¥–∏–Ω –∫–ª–∏–∫ –æ—Ç–¥–µ–ª—è–µ—Ç –≤–∞—Å –æ—Ç –±–æ–≥–∞—Ç—Å—Ç–≤–∞ –∏–ª–∏ –±–µ–∑—É–º–∏—è.</p>
                <button class="btn" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
            </div>
        </section>

        <!-- Screen: Main -->
        <section id="screen-main" class="screen">
            <header class="app-header">
                <div class="header-top">
                    <span class="money-text">üí∞ <span id="money-val">10 000 ‚ÇΩ</span></span>
                    <span class="day-text">–î–µ–Ω—å <span id="day-val">1</span></span>
                </div>
                <div class="header-bars">
                    <div class="stat-item">
                        <span class="stat-icon">ü§Ø</span>
                        <div class="bar-bg">
                            <div id="stress-bar" class="bar-fill stress-fill" style="width:0%"></div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚ù§Ô∏è</span>
                        <div class="bar-bg">
                            <div id="wife-bar" class="bar-fill wife-fill" style="width:50%"></div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üë∑</span>
                        <div class="bar-bg">
                            <div id="neighbor-bar" class="bar-fill neighbor-fill" style="width:50%"></div>
                        </div>
                    </div>
                </div>
            </header>
            <main class="app-body" id="app-body">
                <div class="story-card">
                    <h2 id="story-title" class="story-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                    <div id="story-text" class="story-text">–¢–µ–∫—Å—Ç —Å–∏—Ç—É–∞—Ü–∏–∏...</div>
                </div>

                <div class="event-log-mini" id="event-log"></div>

                <div id="choices-container" class="choices-list">
                    <!-- Buttons injected here by JS -->
                </div>
            </main>
        </section>

        <!-- Screen: Game Over -->
        <section id="screen-over" class="screen">
            <div class="center-content">
                <h2 id="end-title">–ö–æ–Ω–µ—Ü –∏—Å—Ç–æ—Ä–∏–∏</h2>
                <p id="end-message">–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫...</p>
                <div class="stats-grid">
                    <div class="stat-box"><span>–ü—Ä–æ–∂–∏—Ç–æ –¥–Ω–µ–π</span><strong id="end-days">0</strong></div>
                    <div class="stat-box"><span>–ö–∞–ø–∏—Ç–∞–ª</span><strong id="end-money">0 ‚ÇΩ</strong></div>
                </div>
                <button class="btn" onclick="resetGame()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
            </div>
        </section>

    </div>

    <!-- WebGL Shader Script -->
    <script>
        const canvas = document.getElementById('shader-canvas');
        const gl = canvas.getContext('webgl');

        let shaderStressTarget = 0.0;
        let shaderMoneyTarget = 0.0;
        let shaderWifeTarget = 0.0;
        let shaderNeighborTarget = 0.0;
        let sState = { s: 0, m: 0, w: 0, n: 0 };

        if (gl) {
            const vsSource = `
                attribute vec2 position;
                void main() {
                    gl_Position = vec4(position, 0.0, 1.0);
                }
            `;

            const fsSource = `
                precision mediump float;
                uniform float u_time;
                uniform vec2 u_resolution;
                uniform float u_stress;
                uniform float u_moneyScale;
                uniform float u_wife;
                uniform float u_neighbor;
                
                // Classic 2D noise
                vec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }
                float snoise(vec2 v){
                  const vec4 C = vec4(0.211324865405187, 0.366025403784439,
                           -0.577350269189626, 0.024390243902439);
                  vec2 i  = floor(v + dot(v, C.yy) );
                  vec2 x0 = v -   i + dot(i, C.xx);
                  vec2 i1;
                  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
                  vec4 x12 = x0.xyxy + C.xxzz;
                  x12.xy -= i1;
                  i = mod(i, 289.0);
                  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
                    + i.x + vec3(0.0, i1.x, 1.0 ));
                  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),
                    dot(x12.zw,x12.zw)), 0.0);
                  m = m*m ;
                  m = m*m ;
                  vec3 x = 2.0 * fract(p * C.www) - 1.0;
                  vec3 h = abs(x) - 0.5;
                  vec3 ox = floor(x + 0.5);
                  vec3 a0 = x - ox;
                  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );
                  vec3 g;
                  g.x  = a0.x  * x0.x  + h.x  * x0.y;
                  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
                  return 130.0 * dot(m, g);
                }

                void main() {
                    vec2 uv = gl_FragCoord.xy / u_resolution.xy;
                    float aspect = u_resolution.x / u_resolution.y;
                    uv.x *= aspect;
                    
                    float t = u_time * 0.5 * (1.0 + u_stress * 1.5);
                    
                    // Distorted coordinates based on stress and neighbor chaos
                    vec2 noiseUv = uv * (3.0 + u_neighbor * 2.0) + t * 0.5;
                    float n = snoise(noiseUv);
                    
                    // Create moving "candlestick/matrix" lines 
                    vec2 gridUv = gl_FragCoord.xy / u_resolution.xy;
                    float gridX = sin((gridUv.x + n*0.05*(u_stress + u_neighbor)) * 50.0 + t) * 0.5 + 0.5;
                    float lineEffect = smoothstep(0.95, 1.0, gridX);
                    
                    // Base color (deep cyber blue)
                    vec3 baseColor = mix(vec3(0.05, 0.08, 0.15), vec3(0.02, 0.03, 0.08), uv.y);
                    
                    // Glowing nodes
                    float blob1 = length(uv - vec2(0.5 * aspect + sin(t*0.5)*0.3, 0.5 + cos(t*0.7)*0.3));
                    float blob2 = length(uv - vec2(0.3 * aspect + cos(t*1.2)*0.4, 0.6 + sin(t*0.4)*0.4));
                    
                    vec3 col1 = vec3(0.1, 0.5, 0.9); // Calm blue
                    vec3 col2 = vec3(0.9, 0.1, 0.3); // Stress red
                    vec3 col3 = vec3(0.1, 0.8, 0.4); // Profit green
                    vec3 colGold = vec3(1.0, 0.8, 0.2); // Money gold
                    vec3 colWife = vec3(0.9, 0.3, 0.6); // Wife pink
                    vec3 colNeighbor = vec3(0.6, 0.2, 0.9); // Neighbor purple
                    
                    // Mix colors based on stress
                    vec3 currentTheme = mix(col1, col2, u_stress);
                    // Add neighbor influence
                    currentTheme = mix(currentTheme, colNeighbor, u_neighbor * 0.6);
                    // Add wife influence (pulsing pink when she's mad/happy)
                    currentTheme = mix(currentTheme, colWife, u_wife * 0.5 * (0.5 + 0.5 * sin(t * 2.0)));
                    
                    vec3 finalCol = baseColor;
                    finalCol += currentTheme * (0.05 / (blob1 + 0.1)) * (0.5 + 0.5*sin(t));
                    
                    // Second blob is profit/money driven
                    vec3 profitTheme = mix(col3, colGold, u_moneyScale);
                    finalCol += profitTheme * (0.03 / (blob2 + 0.1)) * (1.0 - u_stress + u_moneyScale*0.5);
                    
                    // Add matrix lines
                    finalCol += mix(vec3(0.0), currentTheme * 0.5, lineEffect);
                    
                    // Golden glimmer overlay based on wealth
                    float wealthGlimmer = snoise(uv * 10.0 - t * 2.0) * u_moneyScale * 0.15;
                    finalCol += colGold * max(0.0, wealthGlimmer);
                    
                    // Vignette
                    vec2 vUv = gl_FragCoord.xy / u_resolution.xy;
                    float vig = length(vUv - 0.5);
                    finalCol *= 1.0 - vig*vig*(1.5 - u_wife*0.5); // Wife reduces vignette/makes it dreamier

                    gl_FragColor = vec4(finalCol, 1.0);
                }
            `;

            function createShader(gl, type, source) {
                const shader = gl.createShader(type);
                gl.shaderSource(shader, source);
                gl.compileShader(shader);
                if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                    console.error('Shader compile error:', gl.getShaderInfoLog(shader));
                    gl.deleteShader(shader);
                    return null;
                }
                return shader;
            }

            const program = gl.createProgram();
            gl.attachShader(program, createShader(gl, gl.VERTEX_SHADER, vsSource));
            gl.attachShader(program, createShader(gl, gl.FRAGMENT_SHADER, fsSource));
            gl.linkProgram(program);

            const positionBuffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), gl.STATIC_DRAW);

            const posAttr = gl.getAttribLocation(program, 'position');
            const timeUni = gl.getUniformLocation(program, 'u_time');
            const resUni = gl.getUniformLocation(program, 'u_resolution');
            const stressUni = gl.getUniformLocation(program, 'u_stress');
            const moneyUni = gl.getUniformLocation(program, 'u_moneyScale');
            const wifeUni = gl.getUniformLocation(program, 'u_wife');
            const nbrUni = gl.getUniformLocation(program, 'u_neighbor');

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                gl.viewport(0, 0, canvas.width, canvas.height);
            }
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            function render(time) {
                gl.useProgram(program);
                gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
                gl.enableVertexAttribArray(posAttr);
                gl.vertexAttribPointer(posAttr, 2, gl.FLOAT, false, 0, 0);

                gl.uniform1f(timeUni, time * 0.001);
                gl.uniform2f(resUni, canvas.width, canvas.height);

                if (typeof state === 'undefined') {
                    requestAnimationFrame(render);
                    return;
                }

                // Get target values from game state
                let t_stress = state.stress / 100;
                let t_money = Math.min(1.0, state.money / 100000); // 100k+ is max money effect
                let t_wife = (100 - state.wife) / 100; // Angry wife = more effect
                let t_nbr = state.neighbor / 100;

                // Smoothly interpolate shader targets
                sState.s += (t_stress - sState.s) * 0.05;
                sState.m += (t_money - sState.m) * 0.02;
                sState.w += (t_wife - sState.w) * 0.05;
                sState.n += (t_nbr - sState.n) * 0.05;

                if (isNaN(sState.s)) sState.s = 0;

                gl.uniform1f(stressUni, sState.s);
                gl.uniform1f(moneyUni, sState.m);
                gl.uniform1f(wifeUni, sState.w);
                gl.uniform1f(nbrUni, sState.n);

                gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
                requestAnimationFrame(render);
            }
            // Delay first frame until DOM and all scripts are fully loaded
            window.addEventListener('load', () => requestAnimationFrame(render));
        }
    </script>

    <!-- Game Script -->
    <script>
        const MAX_MONEY = 1000000; const MAX_STAT = 100; const MIN_STAT = 0;
        let state = { money: 10000, stress: 20, wife: 60, neighbor: 50, day: 1, seenEvents: [] };
        let currentEvent = null;

        const DOM = {
            money: document.getElementById('money-val'), stressBar: document.getElementById('stress-bar'),
            wifeBar: document.getElementById('wife-bar'), neighborBar: document.getElementById('neighbor-bar'),
            day: document.getElementById('day-val'), log: document.getElementById('event-log'),
            title: document.getElementById('story-title'), text: document.getElementById('story-text'),
            choices: document.getElementById('choices-container'), titleEnd: document.getElementById('end-title'),
            msgEnd: document.getElementById('end-message'), daysEnd: document.getElementById('end-days'),
            moneyEnd: document.getElementById('end-money'), appBody: document.getElementById('app-body')
        };

        const formatMoney = (num) => num.toLocaleString('ru-RU') + ' ‚ÇΩ';

        function updateUI() {
            DOM.money.textContent = formatMoney(state.money);
            if (state.money < 0) {
                DOM.money.style.color = 'var(--danger)';
            } else {
                DOM.money.style.color = 'var(--money)';
            }
            DOM.day.textContent = state.day;
            DOM.stressBar.style.width = state.stress + '%';
            DOM.wifeBar.style.width = state.wife + '%';
            DOM.neighborBar.style.width = state.neighbor + '%';

            DOM.stressBar.className = 'bar-fill stress-fill ' + (state.stress > 75 ? 'danger-bg' : '');
            DOM.wifeBar.className = 'bar-fill wife-fill ' + (state.wife < 30 ? 'danger-bg' : '');

            if (state.stress > 75) DOM.stressBar.style.background = 'var(--danger)';
            else DOM.stressBar.style.background = '';

            if (state.wife < 30) DOM.wifeBar.style.background = 'var(--danger)';
            else DOM.wifeBar.style.background = '';
        }

        function logEvent(msg, type = '') {
            const p = document.createElement('div');
            p.className = `log-item ${type}`;
            p.textContent = msg;
            while (DOM.log.children.length > 3) DOM.log.removeChild(DOM.log.lastChild);
            DOM.log.prepend(p);
        }

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function startGame() {
            state = { money: 10000, stress: 20, wife: 60, neighbor: 50, day: 1, seenEvents: [] };
            DOM.log.innerHTML = '';
            logEvent('–ò—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è', 'system');
            updateUI();
            switchScreen('screen-main');
            loadEvent('intro');
        }

        function resetGame() { switchScreen('screen-start'); }

        function applyEffect(effect = {}) {
            let m = effect.m || 0, s = effect.s || 0, w = effect.w || 0, n = effect.n || 0, logs = [];
            if (m !== 0) { state.money = Math.floor(state.money + m); logs.push(m > 0 ? `+${formatMoney(m)}` : `-${formatMoney(Math.abs(m))}`); }
            if (s !== 0) { state.stress = Math.max(MIN_STAT, Math.min(MAX_STAT, state.stress + s)); logs.push(s > 0 ? `–°—Ç—Ä–µ—Å—Å +${s}` : `–°—Ç—Ä–µ—Å—Å ${s}`); }
            if (w !== 0) { state.wife = Math.max(MIN_STAT, Math.min(MAX_STAT, state.wife + w)); logs.push(w > 0 ? `–ñ–µ–Ω–∞ +${w}` : `–ñ–µ–Ω–∞ ${w}`); }
            if (n !== 0) { state.neighbor = Math.max(MIN_STAT, Math.min(MAX_STAT, state.neighbor + n)); logs.push(n > 0 ? `–°–æ—Å–µ–¥ +${n}` : `–°–æ—Å–µ–¥ ${n}`); }
            if (logs.length > 0) logEvent(logs.join(', '), m > 0 || w > 0 || s < 0 || n > 0 ? 'good' : 'bad');
        }

        function handleChoice(idx) {
            const choice = currentEvent.choices[idx];

            const req = choice.effect?.m || 0;
            if (req < 0 && state.money + req < 0) {
                if (window.navigator && window.navigator.vibrate) window.navigator.vibrate([20, 50, 20]);
                logEvent(`–í–∑—è—Ç –º–∏–∫—Ä–æ–∑–∞–π–º!`, 'bad system');
            }

            const oldState = { ...state };

            applyEffect(choice.effect);
            if (choice.customAction) choice.customAction(state);

            // Calculate overall outcome for haptic feedback
            const isBad = state.stress > oldState.stress || state.money < oldState.money || state.wife < oldState.wife || state.neighbor < oldState.neighbor;
            const isGood = state.money > oldState.money || state.wife > oldState.wife || state.neighbor > oldState.neighbor || state.stress < oldState.stress;

            if (window.navigator && window.navigator.vibrate) {
                // To simulate premium Haptic Engine clicks, keep durations extremely short (< 25ms).
                // This prevents the motor from fully spinning up, turning a "buzz" into a "tick" or "thud".
                if (isBad && !isGood) {
                    window.navigator.vibrate([15, 40, 20]); // "Thud-thump" - feels weighty but crisp
                } else if (isBad && isGood) {
                    window.navigator.vibrate(12); // Slightly emphasized soft tap
                } else if (isGood) {
                    window.navigator.vibrate(5); // Crisp, bright "click" 
                } else {
                    window.navigator.vibrate(2); // Ultra-soft subtle "tick"
                }
            }

            state.day++;

            // Daily Debt Penalty
            if (state.money < 0) {
                state.stress += 5;
                state.wife -= 2;
                logEvent('–î–æ–ª–≥–∏ –¥–∞–≤—è—Ç... (+–°—Ç—Ä–µ—Å—Å, -–ñ–µ–Ω–∞)', 'bad system');
            }

            updateUI();
            if (checkGameOver()) return;

            choice.next && choice.next !== 'null' ? loadEvent(choice.next) : loadNextDayEvent();
        }

        function loadNextDayEvent() {
            if (state.day === 7) return loadEvent('milestone_7');
            if (state.day === 14) return loadEvent('milestone_14');
            if (state.day === 21) return loadEvent('milestone_21');
            if (state.day === 30) return loadEvent('milestone_30_decision');
            if (state.day === 40) return loadEvent('milestone_40');
            if (state.day === 50) return loadEvent('milestone_50');
            loadRandomEvent();
        }

        function loadEvent(id) {
            currentEvent = eventDB[id];
            DOM.title.textContent = currentEvent.title;
            DOM.text.innerHTML = currentEvent.text;
            DOM.choices.innerHTML = '';

            currentEvent.choices.forEach((c, idx) => {
                if (c.condition && !c.condition(state)) return;
                const btn = document.createElement('div');
                btn.className = 'choice-btn';
                let hint = "";
                if (c.effect) {
                    let h = [];
                    if (c.effect.m < 0) h.push(`-${Math.abs(c.effect.m)}‚ÇΩ`);
                    if (c.effect.m > 0) h.push(`+üí∞`);
                    if (c.effect.s > 10) h.push(`+ü§Ø`);
                    if (c.effect.w < -10) h.push(`-‚ù§Ô∏è`);
                    if (h.length > 0) hint = `[${h.join(', ')}]`;
                }
                btn.innerHTML = `<span class="choice-text">${c.text}</span> <span class="choice-hint">${hint}</span>`;
                btn.onclick = () => handleChoice(idx);
                DOM.choices.appendChild(btn);
            });
            DOM.appBody.scrollTop = 0;
        }

        function loadRandomEvent() {
            let valid = Object.keys(eventDB).filter(k => eventDB[k].type === 'random' && (!eventDB[k].condition || eventDB[k].condition(state)) && !state.seenEvents.includes(k));
            if (valid.length === 0) {
                state.seenEvents = [];
                valid = Object.keys(eventDB).filter(k => eventDB[k].type === 'random' && (!eventDB[k].condition || eventDB[k].condition(state)));
            }
            const evId = valid.length === 0 ? 'boring_day' : valid[Math.floor(Math.random() * valid.length)];
            state.seenEvents.push(evId);
            loadEvent(evId);
        }

        function checkGameOver() {
            let over = true;
            DOM.daysEnd.textContent = state.day;
            DOM.moneyEnd.textContent = formatMoney(state.money);

            if (state.stress >= 100) {
                DOM.titleEnd.textContent = "–ò–Ω—Ñ–∞—Ä–∫—Ç";
                DOM.titleEnd.style.color = "var(--danger)";
                DOM.msgEnd.textContent = "–ù–µ—Ä–≤—ã –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª–∏. –í—ã –ø–µ—Ä–µ–≥–æ—Ä–µ–ª–∏ –æ—Ç —Ñ—å—é—á–µ—Ä—Å–æ–≤ –∏ —Å—Ç—Ä–µ—Å—Å–∞ –ø–æ –∂–∏–∑–Ω–∏. –°–∫–æ—Ä–∞—è –ø—Ä–∏–µ—Ö–∞–ª–∞, –Ω–æ –¥–µ–ø–æ–∑–∏—Ç —Å–ø–∞—Å—Ç–∏ –Ω–µ —É—Å–ø–µ–ª–∞.";
            }
            else if (state.money <= -50000) {
                DOM.titleEnd.textContent = "–î–û–õ–ì–û–í–ê–Ø –Ø–ú–ê";
                DOM.titleEnd.style.color = "var(--warning)";
                DOM.msgEnd.textContent = "–í–∞—à–∏ –¥–æ–ª–≥–∏ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ 50 000 —Ä—É–±. –ñ–µ–Ω–∞ —É—à–ª–∞, –∞ –∫–≤–∞—Ä—Ç–∏—Ä—É –∑–∞–±—Ä–∞–ª–∏ –∫—Ä–µ–¥–∏—Ç–æ—Ä—ã. –í—ã –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –±–∞–Ω–∫—Ä–æ—Ç.";
            }
            else if (state.wife <= 0) {
                DOM.titleEnd.textContent = "–†–∞–∑–≤–æ–¥";
                DOM.titleEnd.style.color = "var(--wife)";
                DOM.msgEnd.textContent = "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ø–æ–¥–∞–ª–∞ –Ω–∞ —Ä–∞–∑–≤–æ–¥: '–ú–Ω–µ –Ω–∞–¥–æ–µ–ª–∏ —Ç–≤–æ–∏ –∑–µ–ª—ë–Ω—ã–µ —Å–≤–µ—á–∏ –∏ –ü–∞–ª—ã—á, —è —É—Ö–æ–∂—É!'";
            }
            else if (state.money >= MAX_MONEY) {
                DOM.titleEnd.textContent = "–ú–ê–ì–ù–ê–¢ MOEX";
                DOM.titleEnd.style.color = "var(--money)";
                DOM.msgEnd.textContent = "–î–æ—Å—Ä–æ—á–Ω–∞—è –ø–æ–±–µ–¥–∞! –í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ –º–∏–ª–ª–∏–æ–Ω! –ü–æ–≥–∞—Å–∏–ª–∏ –≤—Å–µ –¥–æ–ª–≥–∏, –≤–∑—è–ª–∏ –±—Ä–∏–≥–∞–¥—ã –∏–∑ –°–ù–ì –Ω–∞ —Ä–µ–º–æ–Ω—Ç. –í—ã ‚Äî –ª–µ–≥–µ–Ω–¥–∞!";
            }
            else if (state.endGameNow || (!state.hardcoreMode && state.day > 30)) {
                // End of Month 1
                if (state.money > 200000 && state.wife > 50) {
                    DOM.titleEnd.textContent = "–°–ß–ê–°–¢–õ–ò–í–´–ô –ò–ù–í–ï–°–¢–û–†";
                    DOM.titleEnd.style.color = "var(--good)";
                    DOM.msgEnd.textContent = `–ú–µ—Å—è—Ü –ø–µ—Ä–µ–∂–∏—Ç –∏–¥–µ–∞–ª—å–Ω–æ! –í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ —Å–æ–ª–∏–¥–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª (${formatMoney(state.money)}). –†–µ–º–æ–Ω—Ç –ø–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–µ–Ω, –ù–∞—Å—Ç—è –¥–æ–≤–æ–ª—å–Ω–∞, –ü–∞–ª—ã—á –∂–º–µ—Ç —Ä—É–∫—É. –¢—Ä–µ–π–¥–∏–Ω–≥ —Å—Ç–∞–ª –≤–∞—à–µ–π –Ω–∞—Å—Ç–æ—è—â–µ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–µ–π!`;
                } else if (state.money > 100000) {
                    DOM.titleEnd.textContent = "–ü–†–û–§–ï–°–°–ò–û–ù–ê–õ";
                    DOM.titleEnd.style.color = "#3b82f6";
                    DOM.msgEnd.textContent = `–ú–µ—Å—è—Ü –ø–æ–∑–∞–¥–∏. –í—ã –Ω–∞–∫–æ–ø–∏–ª–∏ ${formatMoney(state.money)}, –Ω–æ –∏–∑-–∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞ –ø–æ—Ç–µ—Ä—è–ª–∏ –º–Ω–æ–≥–æ –Ω–µ—Ä–≤–æ–≤. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –Ω–µ –≤ –º–∏–Ω—É—Å–µ. –ñ–∏–∑–Ω—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.`;
                } else if (state.wife > 70) {
                    DOM.titleEnd.textContent = "–ì–õ–ê–í–ù–û–ï ‚Äî –°–ï–ú–¨–Ø";
                    DOM.titleEnd.style.color = "var(--wife)";
                    DOM.msgEnd.textContent = "–ú–µ—Å—è—Ü –ø–µ—Ä–µ–∂–∏—Ç. –û–≥—Ä–æ–º–Ω—ã—Ö –¥–µ–Ω–µ–≥ –Ω–∞ –±–∏—Ä–∂–µ –≤—ã –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏, –∑–∞—Ç–æ –¥–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ —Å–µ–º—å—è –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ —Å–≤–µ—á–µ–π –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ. –ê–Ω–∞—Å—Ç–∞—Å–∏—è —Ü–µ–Ω–∏—Ç –≤–∞—à–µ –±–ª–∞–≥–æ—Ä–∞–∑—É–º–∏–µ.";
                } else if (state.neighbor > 70) {
                    DOM.titleEnd.textContent = "–ë–†–ê–¢ –ü–ê–õ–´–ß–ê";
                    DOM.titleEnd.style.color = "var(--neighbor)";
                    DOM.msgEnd.textContent = "–ú–µ—Å—è—Ü –ø–µ—Ä–µ–∂–∏—Ç! –ë–∏—Ä–∂–∞ –±–∏—Ä–∂–µ–π, –Ω–æ –Ω–∞—Å—Ç–æ—è—â–∞—è –∂–∏–∑–Ω—å –∫–∏–ø–∏—Ç –≤ –≥–∞—Ä–∞–∂–µ —Å –ü–∞–ª—ã—á–µ–º. –¢–µ–ø–µ—Ä—å –≤—ã ‚Äî –Ω–µ—Ä–∞–∑–ª—É—á–Ω—ã–µ –∫–æ—Ä–µ—à–∞ –∏ –≤–º–µ—Å—Ç–µ —à–∞–±–∞—à–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–π–∫–∞—Ö.";
                } else {
                    DOM.titleEnd.textContent = "–î–ï–ù–¨ –°–£–†–ö–ê";
                    DOM.titleEnd.style.color = "var(--text-secondary)";
                    DOM.msgEnd.textContent = "–ú–µ—Å—è—Ü –ø—Ä–æ–ª–µ—Ç–µ–ª –Ω–µ–∑–∞–º–µ—Ç–Ω–æ. –í—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–º –∂–µ, –≥–¥–µ –∏ –±—ã–ª–∏. –ò–ª–ª—é–∑–∏–∏ –æ –ª–µ–≥–∫–∏—Ö –¥–µ–Ω—å–≥–∞—Ö —Ä–∞–∑–±–∏–ª–∏—Å—å –æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å MOEX, –Ω–æ –≤—ã –∂–∏–≤—ã, –∏ —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ.";
                }
            }
            else if (state.hardcoreMode && state.day > 50) {
                // End of Hardcore Marathon (50 days)
                if (state.money > 500000) {
                    DOM.titleEnd.textContent = "–£–û–õ–õ-–°–¢–†–ò–¢";
                    DOM.titleEnd.style.color = "var(--money)";
                    DOM.msgEnd.textContent = `50 –¥–Ω–µ–π –º–æ—â–Ω–µ–π—à–µ–≥–æ –º–∞—Ä–∞—Ñ–æ–Ω–∞! –í—ã –≤—ã—à–ª–∏ –Ω–∞ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å! –ù–∞ —Å—á–µ—Ç—É ${formatMoney(state.money)}. –ü–∞–ª—ã—á —Å—Ç–∞–ª –≤–∞—à–∏–º –ª–∏—á–Ω—ã–º –≤–æ–¥–∏—Ç–µ–ª–µ–º, –∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è –Ω–æ—Å–∏—Ç Prada. –≠—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –ø–æ–±–µ–¥–∞!`;
                } else if (state.money > 150000) {
                    DOM.titleEnd.textContent = "–í–ï–¢–ï–†–ê–ù –ë–ò–†–ñ–ò";
                    DOM.titleEnd.style.color = "#3b82f6";
                    DOM.msgEnd.textContent = `50 –¥–Ω–µ–π –≤—ã–∂–∏–≤–∞–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö. –£ –≤–∞—Å ${formatMoney(state.money)} —Ä—É–±., –≥–ª–∞–∑ –¥–µ—Ä–≥–∞–µ—Ç—Å—è, —Å–µ–¥—ã–µ –≤–æ–ª–æ—Å—ã, –Ω–æ –≤—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ —É–≤–∞–∂–µ–Ω–∏–µ –∏ —Å–æ–ª–∏–¥–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª.`;
                } else if (state.money < 20000) {
                    DOM.titleEnd.textContent = "–ò–ì–†–û–ú–ê–ù";
                    DOM.titleEnd.style.color = "var(--warning)";
                    DOM.msgEnd.textContent = `–í—ã –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ 50 –¥–Ω–µ–π –∂–∏–∑–Ω–∏, —á—Ç–æ–±—ã –æ–∫–∞–∑–∞—Ç—å—Å—è –ø–æ—á—Ç–∏ –Ω–∏ —Å —á–µ–º. –í—ã —Å–æ–∂–≥–ª–∏ –∑–¥–æ—Ä–æ–≤—å–µ —Ä–∞–¥–∏ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–∞. –í—Ä–µ–º—è —É–¥–∞–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—Ä–æ–∫–µ—Ä–∞.`;
                } else {
                    DOM.titleEnd.textContent = "–û–ë–´–ß–ù–´–ô –¢–†–ï–ô–î–ï–†";
                    DOM.titleEnd.style.color = "var(--text-secondary)";
                    DOM.msgEnd.textContent = `–í—ã –ø—Ä–æ—à–ª–∏ —Ö–∞—Ä–¥–∫–æ—Ä–Ω—ã–π —Ä–µ–∂–∏–º –∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å –∫–∞–ø–∏—Ç–∞–ª–æ–º ${formatMoney(state.money)}. –ù–µ –º–∏–ª–ª–∏–æ–Ω–µ—Ä, –Ω–æ –∏ –Ω–µ –±–∞–Ω–∫—Ä–æ—Ç. –ó–∞—Ç–æ –Ω–µ—Ä–≤—ã –∫–∞–∫ —Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞—Ç—ã!`;
                }
            }
            else { over = false; }

            if (over) switchScreen('screen-over');
            return over;
        }

        const eventDB = {
            'intro': { type: 'story', title: '–£—Ç—Ä–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞', text: '–ó–≤–µ–Ω–∏—Ç –±—É–¥–∏–ª—å–Ω–∏–∫. 6:30 —É—Ç—Ä–∞.<br><br>–ñ–µ–Ω–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è —É–∂–µ –≥—Ä–µ–µ—Ç —á–∞–π–Ω–∏–∫, –≤–æ—Ä—á–∞ –ø—Ä–æ –∫–æ–º–º—É–Ω–∞–ª–∫—É. –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –∑–∞ –∫–æ–ø–µ–π–∫–∏, –Ω–æ –≤—á–µ—Ä–∞ –≤—Ç–∞–π–Ω–µ —Å–∫–∞—á–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è MOEX –∏ –∑–∞–≤–µ–ª–∏ —Ç—É–¥–∞ 10 000 —Ä—É–±. –§—å—é—á–µ—Ä—Å—ã –º–∞–Ω—è—Ç. –ö—É–ø–ª–µ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞ –ø–ª–∞—Ç–∏–Ω—É.', choices: [{ text: '–ú–æ–ª—á–∞ —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–±–æ—Ç—É', effect: { s: 5, w: 5 }, next: 'office_boredom' }, { text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –≤ —Ç—É–∞–ª–µ—Ç–µ', effect: { s: 15, w: -5 }, next: 'morning_crypto' }, { text: '–°–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∑–∞–±–æ–ª–µ–ª (—Ç–æ—Ä–≥–æ–≤–∞—Ç—å –¥–æ–º–∞)', effect: { s: -5, w: -20 }, next: 'home_trading' }] },
            'morning_crypto': { type: 'story', title: '–£—Ç—Ä–µ–Ω–Ω–∏–π —à–æ—Ä—Ç—Å–∫–≤–∏–∑', text: '–°–µ—Ä–¥—Ü–µ –∫–æ–ª–æ—Ç–∏—Ç—Å—è! –ü–ª–∞—Ç–∏–Ω–∞ —Ä—É—Ö–Ω—É–ª–∞, –≤–∞—à –ª–æ–Ω–≥ –≤ –º–∏–Ω—É—Å–µ. –ù–∞ —ç–∫—Ä–∞–Ω–µ –º–∏–≥–∞–µ—Ç -6 000 ‚ÇΩ.<br>–í –¥–≤–µ—Ä—å —Å—Ç—É—á–∏—Ç –ù–∞—Å—Ç—è: "–°–µ—Ä—ë–∂–∞, –≤—ã—Ö–æ–¥–∏—Ç—å –ø–æ—Ä–∞!"', choices: [{ text: '–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —É–±—ã—Ç–æ–∫', effect: { m: -6000, s: 20 }, next: 'office_boredom' }, { text: '–ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å! –û—Ç—Ä–∞—Å—Ç–µ—Ç!', effect: { s: 30 }, next: 'office_anxiety' }] },
            'home_trading': { type: 'story', title: '–í–µ—Å—å –¥–µ–Ω—å –≤ –≥—Ä–∞—Ñ–∏–∫–∞—Ö', text: '–ñ–µ–Ω–∞ —É—à–ª–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É, –≥—Ä–æ–º–∫–æ —Ö–ª–æ–ø–Ω—É–≤ –¥–≤–µ—Ä—å—é. –í—ã –æ–¥–Ω–∏. –¢–∏—à–∏–Ω–∞. –¢–æ–ª—å–∫–æ –º–µ—Ä—Ü–∞–Ω–∏–µ —è–ø–æ–Ω—Å–∫–∏—Ö —Å–≤–µ—á–µ–π –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä–µ.', choices: [{ text: '–û—Å—Ç–æ—Ä–æ–∂–Ω—ã–π —Å–∫–∞–ª—å–ø–∏–Ω–≥', effect: { m: 3000, s: 20 }, next: 'null' }, { text: '–†–∏—Å–∫ –Ω–∞ –≤–µ—Å—å –¥–µ–ø–æ–∑–∏—Ç!', customAction: (st) => { if (Math.random() > 0.6) { st.money += 15000; logEvent('+15 000 ‚ÇΩ', 'good'); } else { st.money -= 8000; st.stress += 30; logEvent('-8 000 ‚ÇΩ', 'bad'); } }, next: 'null' }] },
            'office_boredom': { type: 'story', title: '–û—Ñ–∏—Å–Ω–∞—è —Ä—É—Ç–∏–Ω–∞', text: '–í—ã —Å–∏–¥–∏—Ç–µ –≤ –æ–ø–µ–Ω—Å–ø–µ–π—Å–µ. –ù–∞—á–∞–ª—å–Ω–∏–∫ —Ä–∞—Å–ø–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–æ –ø—Ä–æ–¥–∞–∂–∏. –ö–æ–ª–ª–µ–≥–∏ –ø—å—é—Ç –∫–æ—Ñ–µ. –ñ–∏–∑–Ω—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –º–∏–º–æ.', choices: [{ text: '–ü–æ–∫–æ—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å', effect: { m: 2500, s: 10 }, next: 'null' }, { text: '–ß–∏—Ç–∞—Ç—å –ø—É–ª—å—Å –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤', effect: { s: -5 }, next: 'telegram_guru' }] },
            'office_anxiety': { type: 'story', title: 'Margin Call', text: '–ü—Ä—è–º–æ –Ω–∞ –≤—Å—Ç—Ä–µ—á–µ —Å –∫–ª–∏–µ–Ω—Ç–æ–º –ø—Ä–∏—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –°–¥–µ–ª–∫–∞ –ª–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–∞. -10 000 ‚ÇΩ. –í–∞—Å —Ç–æ—à–Ω–∏—Ç.', choices: [{ text: '–î–µ—Ä–∂–∞—Ç—å –ª–∏—Ü–æ', effect: { m: -10000, s: 35 }, next: 'null' }, { text: '–í–∑—è—Ç—å –∞–≤–∞–Ω—Å –∏ –æ—Ç—ã–≥—Ä–∞—Ç—å—Å—è!', effect: { m: -5000, s: 40, w: -10 }, next: 'null' }] },
            'telegram_guru': { type: 'story', title: '–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª', text: '–ë–ª–æ–≥–µ—Ä "–ò–Ω–≤–µ—Å—Ç-–ì—É—Ä—É" –æ–±–µ—â–∞–µ—Ç 300% –ø—Ä–∏–±—ã–ª–∏ –Ω–∞ –∏–Ω—Å–∞–π–¥–∞—Ö –ì–∞–∑–ø—Ä–æ–º–∞. –í—Ö–æ–¥ –≤ VIP —Å—Ç–æ–∏—Ç 3 000 ‚ÇΩ.', choices: [{ text: '–ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É', effect: { m: -3000 }, customAction: (st) => { if (Math.random() > 0.7) { st.money += 15000; logEvent('+15000', 'good'); } else { st.stress += 15; logEvent('–°–∫–∞–º!', 'bad'); } }, next: 'null' }, { text: '–ó–∞–∫—Ä—ã—Ç—å —á–∞—Ç', effect: { s: -5 }, next: 'null' }] },
            // --- –°–Æ–ñ–ï–¢–ù–´–ï –í–ò–õ–ö–ò (–ú–ò–õ–°–¢–û–£–ù–´) ---
            'milestone_7': { type: 'story', title: '–û–∫–æ–Ω—á–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏', text: '–ü—Ä–æ—à–ª–∞ –Ω–µ–¥–µ–ª—è –≤–∞—à–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ —Å—Ç–∞—Ç—å –≤–æ–ª–∫–æ–º —Å –ú–æ—Å–±–∏—Ä–∂–∏. –ñ–µ–Ω–∞ —Å–º–æ—Ç—Ä–∏—Ç —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º, –ü–∞–ª—ã—á –∑–æ–≤–µ—Ç –≤ –≥–∞—Ä–∞–∂ –æ–±–º—ã—Ç—å –ø–µ—Ä–≤—ã–µ "—É—Å–ø–µ—Ö–∏", –∞ –Ω–∞ —Å—á–µ—Ç–µ...', choices: [{ text: '–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ', effect: { s: -5 }, next: 'null' }, { text: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∏—Å–∫–∏!', effect: { s: 15, m: 2000 }, next: 'null' }] },
            'milestone_14': { type: 'story', title: '–ü–æ–ª–æ–≤–∏–Ω–∞ –ø—É—Ç–∏', text: '–ü—Ä–æ—à–ª–æ —Ä–æ–≤–Ω–æ 2 –Ω–µ–¥–µ–ª–∏. –í—ã —É—Å—Ç–∞–ª–∏, –≥–ª–∞–∑–∞ —Å–ª–µ–∑—è—Ç—Å—è –æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∞. –í–¥—Ä—É–≥ –≤–∞–º –∑–≤–æ–Ω–∏—Ç –±—Ä–æ–∫–µ—Ä –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–ö–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–≤–µ—Å—Ç–æ—Ä" –∑–∞ —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å–¥–µ–ª–∫—É.', choices: [{ text: '–°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è (–†–∏—Å–∫–æ–≤–∞–Ω–Ω–æ)', customAction: (st) => { if (Math.random() > 0.5) { st.money += 20000; logEvent('–°–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏! +20000', 'good'); } else { st.money -= 15000; logEvent('–®—Ç—Ä–∞—Ñ –æ—Ç –±—Ä–æ–∫–µ—Ä–∞ -15000', 'bad'); } }, next: 'null' }, { text: '–û—Ç–∫–∞–∑–∞—Ç—å—Å—è', effect: { s: -10 }, next: 'null' }] },
            'milestone_21': { type: 'story', title: '–ö—Ä–∏–∑–∏—Å —Ç—Ä–µ—Ç—å–µ–π –Ω–µ–¥–µ–ª–∏', text: '–ù–∞—á–∞–ª—å–Ω–∏–∫ –≤—ã–∑–≤–∞–ª –Ω–∞ –∫–æ–≤–µ—Ä: "–°–µ—Ä—ë–≥–∞, —Ç—ã –Ω–∞ —Ä–∞–±–æ—Ç–µ —Å–∏–¥–∏—à—å –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ. –õ–∏–±–æ —Ä–∞–±–æ—Ç–∞–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ª–∏–±–æ —É–≤–æ–ª—å–Ω—è–π—Å—è!"', choices: [{ text: '–û–ø—Ä–∞–≤–¥–∞—Ç—å—Å—è —Å–ª–æ–∂–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º', effect: { s: 20, m: -5000 }, next: 'null' }, { text: '–£–≤–æ–ª–∏—Ç—å—Å—è –∏ —Å—Ç–∞—Ç—å —Ñ—É–ª–ª—Ç–∞–π–º —Ç—Ä–µ–π–¥–µ—Ä–æ–º!', effect: { s: 40, w: -30, m: 10000 }, next: 'null' }] },
            'milestone_30_decision': { type: 'story', title: '–ö–æ–Ω–µ—Ü –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—è—Ü–∞', text: '–ü—Ä–æ—à–µ–ª 30-–π –¥–µ–Ω—å. –ü–æ—Ä–∞ –ø–æ–¥–≤–æ–¥–∏—Ç—å –∏—Ç–æ–≥–∏. –í—ã –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —Å–µ–π—á–∞—Å –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å, –∏–ª–∏ —Ä–∏—Å–∫–Ω—É—Ç—å, –≤—ã–π—Ç–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏-—É—Ä–æ–≤–µ–Ω—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é –¥–æ 50-–≥–æ –¥–Ω—è (–æ—Ç–∫—Ä–æ—é—Ç—Å—è –º–µ–≥–∞-—Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!).', choices: [{ text: '–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É (–ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥)', customAction: (st) => { st.endGameNow = true; }, next: 'null' }, { text: '–ò–≥—Ä–∞—Ç—å –¥–∞–ª—å—à–µ –¥–æ 50 –¥–Ω—è! (–•–∞—Ä–¥–∫–æ—Ä)', effect: { s: 15 }, customAction: (st) => { st.hardcoreMode = true; logEvent('–í–æ—à–ª–∏ –≤ —Ä–µ–∂–∏–º –•–∞—Ä–¥–∫–æ—Ä–∞!', 'system'); }, next: 'null' }] },
            'milestone_40': { type: 'story', title: '–ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏', text: '–í—ã —Ç–æ—Ä–≥—É–µ—Ç–µ —É–∂–µ 40 –¥–Ω–µ–π. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –º–µ—Ä–µ—â–∞—Ç—Å—è –≤–∞–º –≤ —É–∑–æ—Ä–∞—Ö –æ–±–æ–µ–≤ –∏ —Ç—Ä–µ—â–∏–Ω–∞—Ö –Ω–∞ –∞—Å—Ñ–∞–ª—å—Ç–µ. –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –î–∑–µ–Ω... –∏–ª–∏ –ø–æ–µ—Ö–∞–ª–∏ –∫—É–∫—É—Ö–æ–π.', choices: [{ text: '–ó–∞–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å', effect: { s: -40, m: -5000 }, next: 'null' }, { text: '–¢–æ—Ä–≥–æ–≤–∞—Ç—å —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏!', customAction: (st) => { if (Math.random() > 0.5) { st.money += 50000; logEvent('–ò–Ω—Ç—É–∏—Ü–∏—è! +50000', 'good'); } else { st.stress += 50; logEvent('–ì–ª—É–ø–æ—Å—Ç—å! –°—Ç—Ä–µ—Å—Å +50', 'bad'); } }, next: 'null' }] },
            'milestone_50': { type: 'story', title: '–§–∏–Ω–∞–ª—å–Ω—ã–π –±–æ—Å—Å', text: '–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å 50-–¥–Ω–µ–≤–Ω–æ–≥–æ –º–∞—Ä–∞—Ñ–æ–Ω–∞. –†—ã–Ω–æ–∫ –≥–æ—Ç–æ–≤–∏—Ç—Å—è –∫ –≤–µ–ª–∏—á–∞–π—à–µ–º—É —à–æ—Ä—Ç-—Å–∫–≤–∏–∑—É –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è. –ù–∞ –∫–æ–Ω—É ‚Äî –≤—Å—ë.', choices: [{ text: '–ó–∞–π—Ç–∏ –Ω–∞ –≤—Å–µ –ø–ª–µ—á–∏', customAction: (st) => { if (Math.random() > 0.4) { st.money += 150000; logEvent('–¢—Ä–∏—É–º—Ñ –ò–∫—Å–æ–≤! +150000', 'good'); } else { st.money = 0; logEvent('–¢–æ—Ç–∞–ª—å–Ω–∞—è –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è...', 'bad'); } }, next: 'null' }, { text: '–í–Ω–µ —Ä—ã–Ω–∫–∞ (–±–µ–∑ —Ä–∏—Å–∫–∞)', effect: { s: -20 }, next: 'null' }] },

            // --- –•–ê–†–î–ö–û–†–ù–´–ï –°–û–ë–´–¢–ò–Ø (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ 30 –¥–Ω—è) ---
            'crypto_insider': { type: 'random', condition: (st) => st.hardcoreMode, title: '–ü–∞–º–ø –©–∏—Ç–∫–æ–∏–Ω–∞', text: '–°—ã–Ω –ü–∞–ª—ã—á–∞ —Ä–∞—Å—Å–∫–∞–∑–∞–ª –ø—Ä–æ –Ω–æ–≤—É—é –∫—Ä–∏–ø—Ç—É DOGE-RU. –ì–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –ª–∏—Å—Ç–∏–Ω–≥.', choices: [{ text: '–í–ª–æ–∂–∏—Ç—å—Å—è –Ω–∞ 25–∫', customAction: (st) => { if (st.money >= 25000) { st.money -= 25000; if (Math.random() > 0.5) { st.money += 85000; logEvent('–†–∞–∫–µ—Ç–Ω—ã–π –≤–∑–ª–µ—Ç! +85000', 'good') } else { logEvent('–°–æ–∑–¥–∞—Ç–µ–ª—å —É–∫—Ä–∞–ª –ø—É–ª. -25000', 'bad'); st.stress += 20; } } else { logEvent('–ù–µ —Ö–≤–∞—Ç–∏–ª–æ –¥–µ–Ω–µ–≥ –Ω–∞ –∫—Ä–∏–ø—Ç—É', 'bad system'); } }, next: 'null' }, { text: '–ü—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å', effect: { s: -5 }, next: 'null' }] },
            'wife_ultimatum': { type: 'random', condition: (st) => st.hardcoreMode && st.wife < 60, title: '–£–ª—å—Ç–∏–º–∞—Ç—É–º', text: '–ê–Ω–∞—Å—Ç–∞—Å–∏—è —Å—Ç–∞–≤–∏—Ç –≤–æ–ø—Ä–æ—Å —Ä–µ–±—Ä–æ–º –æ –≤–∞—à–µ–º 50-–¥–Ω–µ–≤–Ω–æ–º –∑–∞–ø–æ–µ –Ω–∞ –ª—É–¥–æ–º–∞–Ω—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö.', choices: [{ text: '–ö—É–ø–∏—Ç—å –ø—É—Ç–µ–≤–∫—É (-50000‚ÇΩ)', customAction: (st) => { if (st.money >= 50000) { st.money -= 50000; st.wife = 100; } else { st.stress += 50; logEvent('–î–µ–Ω–µ–≥ –Ω–µ —Ö–≤–∞—Ç–∏–ª–æ. –°–∫–∞–Ω–¥–∞–ª!', 'bad'); } }, next: 'null' }, { text: '–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö', effect: { w: -50, s: 20 }, next: 'null' }] },

            // --- –†–ê–ù–î–û–ú–ù–´–ï –°–û–ë–´–¢–ò–Ø (30+ —à—Ç—É–∫) ---
            'boring_day': { type: 'random', title: '–¢–∏—Ö–∏–π –≤–µ—á–µ—Ä', text: '–ù–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ. –í—ã —Å –∂–µ–Ω–æ–π —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–µ—Ä–∏–∞–ª. –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–æ—è—Ç –Ω–∞ –º–µ—Å—Ç–µ.', choices: [{ text: '–õ–µ—á—å —Å–ø–∞—Ç—å –ø–æ—Ä–∞–Ω—å—à–µ', effect: { s: -20, w: 10 }, next: 'null' }, { text: '–ù–æ—á—å—é –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª', effect: { s: 15, w: -10 }, customAction: (st) => { const p = (Math.random() > 0.5) ? 4000 : -4000; st.money += p; logEvent(`–ù–æ—á–Ω–æ–π —Ç—Ä–µ–π–¥: ${p}`); }, next: 'null' }] },
            'wife_suspicion': { type: 'random', condition: (st) => st.wife < 50 && st.stress > 30, title: '–†–∞–∑–≥–æ–≤–æ—Ä –Ω–∞ –∫—É—Ö–Ω–µ', text: '–ê–Ω–∞—Å—Ç–∞—Å–∏—è –Ω–∞–ª–∏–≤–∞–µ—Ç —á–∞–π: <br>‚Äî –¢—ã —Å–∞–º –Ω–µ —Å–≤–æ–π. –ó–∞—Ä–ø–ª–∞—Ç—ã –Ω–µ—Ç, —Ç—ã –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ... –¢—ã –≤ —Å—Ç–∞–≤–∫–∏ –ø–æ–ø–∞–ª?', choices: [{ text: '–°–æ–≤—Ä–∞—Ç—å –ø—Ä–æ –∑–∞–≤–∞–ª –Ω–∞ —Ä–∞–±–æ—Ç–µ', effect: { s: 15, w: -5 }, next: 'null' }, { text: '–ü—Ä–∏–∑–Ω–∞—Ç—å—Å—è –ø—Ä–æ —Ñ—å—é—á–µ—Ä—Å—ã', effect: { s: -15, w: -30 }, next: 'null' }, { text: '–ü–æ–¥–∞—Ä–∏—Ç—å –µ–π —Ü–≤–µ—Ç—ã (-2000‚ÇΩ)', effect: { m: -2000, w: 20 }, next: 'null' }] },
            'neighbor_beer': { type: 'random', condition: (st) => st.neighbor > 20, title: '–í—Å—Ç—Ä–µ—á–∞ –≤ –ø–æ–¥—ä–µ–∑–¥–µ', text: '–í—ã –≤—Å—Ç—Ä–µ—á–∞–µ—Ç–µ –ü–∞–ª—ã—á–∞. –í —Ä—É–∫–∞—Ö –ø–∏–≤–æ —Å —Ä—ã–±–æ–π.<br>‚Äî –°–µ—Ä—ë–≥–∞! –ó–∞–∫–æ–ª–µ–±–∞–ª–æ –≤—Å—ë, –ø–æ—à–ª–∏ –∫–æ –º–Ω–µ –≤ –≥–∞—Ä–∞–∂?', choices: [{ text: '–ü–æ–π—Ç–∏ –≤ –≥–∞—Ä–∞–∂ (-1000‚ÇΩ)', effect: { m: -1000, s: -30, n: 15, w: -15 }, next: 'null' }, { text: '–û—Ç–∫–∞–∑–∞—Ç—å—Å—è (–∂–µ–Ω–∞ –∂–¥–µ—Ç)', effect: { w: 10, n: -10 }, next: 'null' }] },
            'neighbor_job': { type: 'random', condition: (st) => st.neighbor > 40, title: '–•–∞–ª—Ç—É—Ä–∞ –æ—Ç –ü–∞–ª—ã—á–∞', text: '–ü–∞–ª—ã—á –∑–≤–æ–Ω–∏—Ç —É—Ç—Ä–æ–º: <br>‚Äî –ï—Å—Ç—å –¥–µ–ª–æ! –ù–∞ –†—É–±–ª–µ–≤–∫–µ —Ç—Ä—É–±—ã —Ä–∞–∑–≥—Ä—É–∑–∏—Ç—å. –ü–ª–∞—Ç—è—Ç –Ω–∞–ª–∏—á–∫–æ–π —â–µ–¥—Ä–æ!', choices: [{ text: '–°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è (–¢—è–∂–µ–ª–æ)', effect: { m: 12000, s: 20, n: 10 }, next: 'null' }, { text: '–û—Ç–∫–∞–∑–∞—Ç—å—Å—è (–Ø —Ç—Ä–µ–π–¥–µ—Ä!)', effect: { n: -15 }, next: 'null' }] },
            'market_crash': { type: 'random', condition: (st) => st.money > 20000, title: '–ß—ë—Ä–Ω—ã–π –õ–µ–±–µ–¥—å', text: '–°–µ—Ä–µ–±—Ä–æ –∫–∞–º–Ω–µ–º –ª–µ—Ç–∏—Ç –≤–Ω–∏–∑, –≥–∞–∑ –ø—Ä–æ–±–∏–≤–∞–µ—Ç –¥–Ω–æ. –ü–∞–Ω–∏–∫–∞ –∏ –º–∞—Ä–∂–∏–Ω-–∫–æ–ª–ª—ã –Ω–∞ MOEX.', choices: [{ text: '–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë (-25% –¥–µ–ø–æ–∑–∏—Ç–∞)', customAction: (st) => { st.money = Math.floor(st.money * 0.75); }, effect: { s: 30 }, next: 'null' }, { text: '–î–ï–†–ñ–ò–ú –°–¢–†–û–ô!', customAction: (st) => { if (Math.random() > 0.5) { st.stress += 40; logEvent('–£–ø–∞–ª–∏ –Ω–∏–∂–µ', 'bad'); } else { st.money += 15000; st.stress -= 10; logEvent('–û—Ç–∫—É–ø–∏–ª–∏! +15000', 'good'); } }, next: 'null' }, { text: '–£—Å—Ä–µ–¥–Ω–∏—Ç—å—Å—è (-10 000‚ÇΩ)', effect: { m: -10000, s: 40, w: -30 }, next: 'null' }] },
            'wife_shopping': { type: 'random', title: '–ü–æ—Ö–æ–¥ –≤ –¢–¶', text: '–°—É–±–±–æ—Ç–∞. –ñ–µ–Ω–∞ —Ç–∞—â–∏—Ç –≤ –ò–ö–ï–Æ –∑–∞ –ø–ª–∏—Ç–∫–æ–π. –ù–æ —É –≤–∞—Å –≥–æ—Ä–∏—Ç —à–æ—Ä—Ç –Ω–∞ –ì–∞–∑–ø—Ä–æ–º.', choices: [{ text: '–ü–æ–º–æ–≥–∞—Ç—å –∂–µ–Ω–µ', effect: { s: 15, w: 25 }, next: 'null' }, { text: '–ó–∞–ª–∏–ø–∞—Ç—å –≤ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ –¥–∏–≤–∞–Ω–∞—Ö', effect: { m: 5000, s: 5, w: -25 }, next: 'null' }] },
            'payday': { type: 'random', title: '–ê–≤–∞–Ω—Å –æ—Ç —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è', text: '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è –Ω–∞—á–∏—Å–ª–∏–ª–∞ –Ω–µ–±–æ–ª—å—à–æ–π –∞–≤–∞–Ω—Å. 15 000 —Ä—É–±–ª–µ–π.', choices: [{ text: '–í—Å—ë –≤ —Å–µ–º—å—é! (–ù–∞ —Ä–µ–º–æ–Ω—Ç)', effect: { m: 5000, w: 20, s: -10 }, next: 'null' }, { text: '–í—Å—ë –Ω–∞ –±–∏—Ä–∂—É! –ò–∫—Å—ã!', effect: { m: 15000, w: -10, s: 10 }, next: 'null' }] },
            'broken_car': { type: 'random', title: '–ü–æ–ª–æ–º–∫–∞ –õ–∞—Å—Ç–æ—á–∫–∏', text: '–í–∞—à –§–æ–ª—å–∫—Å–≤–∞–≥–µ–Ω —Å–ª–æ–º–∞–ª—Å—è –Ω–∞ —Ö–æ–¥—É. –î—ã–º–∏—Ç—Å—è –∫–∞–ø–æ—Ç.', choices: [{ text: '–ü–ª–∞—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—É (-15000‚ÇΩ)', effect: { m: -15000, s: 15 }, next: 'null' }, { text: '–ó–≤–∞—Ç—å –ü–∞–ª—ã—á–∞', effect: { n: 5, s: 5 }, customAction: (st) => { if (st.neighbor > 40) { st.money -= 3000; logEvent('–°–¥–µ–ª–∞–ª –∑–∞ –±—É—Ç—ã–ª–∫—É! -3000', 'good'); } else { st.money -= 12000; logEvent('–ó–∞–Ω—è—Ç. –ü—Ä–∏—à–ª–æ—Å—å –ø–ª–∞—Ç–∏—Ç—å', 'bad'); } }, next: 'null' }] },
            'tax_office': { type: 'random', title: '–ü–∏—Å—å–º–æ —Å—á–∞—Å—Ç—å—è', text: '–ü—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –ì–æ—Å—É—Å–ª—É–≥: –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–π –Ω–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ.', choices: [{ text: '–û–ø–ª–∞—Ç–∏—Ç—å (-4500‚ÇΩ)', effect: { m: -4500, s: 10 }, next: 'null' }, { text: '–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å', effect: { s: 25, w: -10 }, next: 'null' }] },
            'scam_call': { type: 'random', title: '–ó–≤–æ–Ω–æ–∫ –∏–∑ —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', text: '‚Äî –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —ç—Ç–æ –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç –°–æ–∫–æ–ª–æ–≤, —Å –≤–∞—à–µ–≥–æ —Å—á–µ—Ç–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥...', choices: [{ text: '–ü–æ—Å–ª–∞—Ç—å –º–∞—Ç–æ–º', effect: { s: -5 }, next: 'null' }, { text: '–ü–æ—Ç—Ä–æ–ª–ª–∏—Ç—å –∏—Ö', effect: { s: -15 }, next: 'null' }, { text: '–ü–æ–≤–µ—Ä–∏—Ç—å –∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ "–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á–µ—Ç"', effect: { m: -10000, s: 30, w: -20 }, next: 'null' }] },
            'power_outage': { type: 'random', title: '–û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–∞', text: '–í–æ –≤—Ä–µ–º—è –∫—Ä—É—Ç–æ–π —Å–¥–µ–ª–∫–∏ –æ—Ç—Ä—É–±–∞–µ—Ç—Å—è —Å–≤–µ—Ç –≤–æ –≤—Å–µ–º —Ä–∞–π–æ–Ω–µ! –¢–µ—Ä–º–∏–Ω–∞–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!', choices: [{ text: '–ü–∞–Ω–∏–∫–æ–≤–∞—Ç—å', effect: { s: 40 }, next: 'null' }, { text: '–ü–æ–π—Ç–∏ –≥—É–ª—è—Ç—å', effect: { s: -20, w: 15 }, next: 'null' }] },
            'internet_provider': { type: 'random', title: '–ü–∏–Ω–≥ 999', text: '–†–æ—Å—Ç–µ–ª–µ–∫–æ–º —Ä–µ—à–∏–ª –æ—Ç–≤–∞–ª–∏—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –≤—ã –≤—ã—Å—Ç–∞–≤–ª—è–ª–∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç.', choices: [{ text: '–ë–µ—à–µ–Ω–æ –∑–≤–æ–Ω–∏—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É', effect: { s: 35 }, next: 'null' }, { text: '–†–∞–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞', effect: { m: 2000, s: 20 }, next: 'null' }] },
            'mother_in_law': { type: 'random', title: '–í–∏–∑–∏—Ç —Ç—ë—â–∏', text: '–ó–≤–æ–Ω–æ–∫ –≤ –¥–≤–µ—Ä—å. –ë–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏–µ—Ö–∞–ª–∞ –º–∞–º–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏–∏, –ø—Ä–∏–≤–µ–∑–ª–∞ –∫–∞—Ä—Ç–æ—à–∫—É –∏ –∫—Ä–∏—Ç–∏–∫—É.', choices: [{ text: '–ì–µ—Ä–æ–∏—á–µ—Å–∫–∏ —Ç–µ—Ä–ø–µ—Ç—å —É–ø—Ä–µ–∫–∏', effect: { s: 30, w: 20 }, next: 'null' }, { text: '–°–±–µ–∂–∞—Ç—å –∫ –ü–∞–ª—ã—á—É', effect: { s: -15, w: -40, n: 10 }, next: 'null' }] },
            'moex_glitch': { type: 'random', title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–±–æ–π', text: '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—Ä–æ–∫–µ—Ä–∞ –∑–∞–≤–∏—Å–ª–æ. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∑–∞–∫—Ä—ã—Ç—å —Å–¥–µ–ª–∫—É —É–∂–µ 4 —á–∞—Å–∞.', choices: [{ text: '–°–º–æ—Ç—Ä–µ—Ç—å –≤ —á–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω', effect: { s: 50 }, next: 'null' }, { text: '–ü–æ–π—Ç–∏ —Å–ø–∞—Ç—å (–±—É–¥—å —á—Ç–æ –±—É–¥–µ—Ç)', customAction: (st) => { if (Math.random() > 0.5) { st.money += 10000; logEvent('+10000 –ø–æ–≤–µ–∑–ª–æ', 'good'); } else { st.money -= 8000; logEvent('-8000 –≤—ã–±–∏–ª–æ –ø–æ —Å—Ç–æ–ø—É', 'bad'); } }, next: 'null' }] },
            'neighbor_loan': { type: 'random', condition: (st) => st.money > 5000, title: '–ü—Ä–æ—Å—å–±–∞ —Ç–æ–≤–∞—Ä–∏—â–∞', text: '–ü–∞–ª—ã—á –∑–≤–æ–Ω–∏—Ç: "–°–µ—Ä–µ–Ω–¥–µ–ª—å, –∑–∞–π–º–∏ –ø—è—Ç–µ—Ä—É –¥–æ –∑–ø, —Ç—Ä—É–±—ã –≥–æ—Ä—è—Ç, –∞ –±—Ä–∏–≥–∞–¥–∏—Ä –∫–∏–Ω—É–ª".', choices: [{ text: '–î–∞—Ç—å 5000 ‚ÇΩ', effect: { m: -5000, n: 30, w: -10 }, next: 'null' }, { text: '–°–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Å–∞–º –Ω–∞ –º–µ–ª–∏', effect: { n: -20 }, next: 'null' }] },
            'wife_spa': { type: 'random', title: '–ù–∞–º–µ–∫–∏ –ê–Ω–∞—Å—Ç–∞—Å–∏–∏', text: '–ñ–µ–Ω–∞ —Ç—Ä–µ—Ç–∏–π –¥–µ–Ω—å –ª–∏—Å—Ç–∞–µ—Ç –ª–µ–Ω—Ç—É –∏ –≥—Ä–æ–º–∫–æ –≤–∑–¥—ã—Ö–∞–µ—Ç –æ —Ç–æ–º, –∫–∞–∫ —É—Å—Ç–∞–ª–∞ –∏ —Ö–æ—á–µ—Ç –Ω–∞ –º–∞—Å—Å–∞–∂.', choices: [{ text: '–ö—É–ø–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (-7000‚ÇΩ)', effect: { m: -7000, w: 40, s: -10 }, next: 'null' }, { text: '–°–¥–µ–ª–∞—Ç—å –º–∞—Å—Å–∞–∂ —Å–∞–º–æ–º—É', effect: { s: 20, w: 10 }, next: 'null' }, { text: '–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å', effect: { w: -25, s: 10 }, next: 'null' }] },
            'gym_subscription': { type: 'random', title: '–ó–¥–æ—Ä–æ–≤—ã–π –¥—É—Ö', text: '–£ –≤–∞—Å –±–æ–ª–∏—Ç —Å–ø–∏–Ω–∞ –æ—Ç —Å–∏–¥–µ–Ω–∏—è –∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏. –†–µ–∫–ª–∞–º–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≥–æ–¥–æ–≤–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç —Å–æ —Å–∫–∏–¥–∫–æ–π.', choices: [{ text: '–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç (-12000‚ÇΩ)', effect: { m: -12000, s: -30, w: 15 }, next: 'null' }, { text: '–ö–∞—á–∞—Ç—å—Å—è –¥–æ–º–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)', effect: { s: -10 }, next: 'null' }] },
            'dividends': { type: 'random', title: '–î–∏–≤–∏–¥–µ–Ω–¥–Ω—ã–π –ì—ç–ø', text: '–°–±–µ—Ä–±–∞–Ω–∫ –≤—ã–ø–ª–∞—Ç–∏–ª –¥–∏–≤–∏–¥–µ–Ω–¥—ã! –ù–∞ —Å—á–µ—Ç —É–ø–∞–ª–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏.', choices: [{ text: '–û—Ç–ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å!', effect: { m: 4500, s: -10, w: 10 }, next: 'null' }, { text: '–†–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ì–∞–∑–ø—Ä–æ–º', effect: { m: 8000, s: 15 }, next: 'null' }] },
            'silver_spike': { type: 'random', title: '–õ–æ—Ö–º–∞—Ç–æ–µ —Å–µ—Ä–µ–±—Ä–æ', text: '–ù–∞ —Ñ–æ–Ω–µ —Å—Ç—Ä–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –°–®–ê —Å–µ—Ä–µ–±—Ä–æ –ª–µ—Ç–∏—Ç –≤ —Å—Ç—Ä–∞—Ç–æ—Å—Ñ–µ—Ä—É!', choices: [{ text: '–ó–∞—à–æ—Ä—Ç–∏—Ç—å –Ω–∞ —Ö–∞—è—Ö!', customAction: (st) => { if (Math.random() > 0.8) { st.money += 25000; logEvent('–ì–µ–Ω–∏–π! +25000', 'good'); } else { st.money -= 15000; st.stress += 40; logEvent('–ü—Ä–æ–±–∏–ª–æ —Å—Ç–æ–ø! -15000', 'bad'); } }, next: 'null' }, { text: '–ù–µ —Ç—Ä–æ–≥–∞—Ç—å, —ç—Ç–æ –ø—É–∑—ã—Ä—å', effect: { s: -5 }, next: 'null' }] },
            'central_bank_rate': { type: 'random', title: '–ó–∞—Å–µ–¥–∞–Ω–∏–µ –¶–ë', text: '–ù–∞–±–∏—É–ª–ª–∏–Ω–∞ –≤—ã—Ö–æ–¥–∏—Ç –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É. –ë—Ä–æ—à—å –Ω–∞ –Ω–µ–π –≤ –≤–∏–¥–µ —è—Å—Ç—Ä–µ–±–∞. –°—Ç–∞–≤–∫—É –ø–æ–¥–Ω–∏–º–∞—é—Ç –¥–æ 21%!', choices: [{ text: '–°–∫–∏–Ω—É—Ç—å –≤—Å–µ –∞–∫—Ü–∏–∏!', effect: { s: 30, m: -2000 }, next: 'null' }, { text: '–ü–µ—Ä–µ–ª–æ–∂–∏—Ç—å—Å—è –≤ —Ñ–æ–Ω–¥—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏', effect: { s: -15, m: 1500 }, next: 'null' }] },
            'neighbor_dachas': { type: 'random', condition: (st) => st.neighbor > 30, title: '–®–∞—à–ª—ã–∫–∏', text: '–ü–∞–ª—ã—á –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–∫–∏–Ω—É—Ç—å—Å—è –Ω–∞ –º—è—Å–æ –∏ –ø–æ–µ—Ö–∞—Ç—å –Ω–∞ –µ–≥–æ —Ñ–∞–∑–µ–Ω–¥—É, –∂–∞—Ä–∏—Ç—å —Å–≤–∏–Ω–∏–Ω—É –ø–æ–¥ –≤–æ–¥–æ—á–∫—É.', choices: [{ text: '–ï–¥–µ–º! (-3000‚ÇΩ)', effect: { m: -3000, s: -45, w: -15, n: 25 }, next: 'null' }, { text: '–û—Å—Ç–∞—Ç—å—Å—è –¥–æ–º–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏', effect: { s: 20, n: -15 }, next: 'null' }] },
            'wife_anniversary': { type: 'random', title: '–ü–∞–º—è—Ç–Ω–∞—è –¥–∞—Ç–∞', text: '–ê–Ω–∞—Å—Ç–∞—Å–∏—è —Ö–æ–¥–∏—Ç –∑–∞–≥–∞–¥–æ—á–Ω–∞—è –∏ –Ω–∞–¥–µ–µ—Ç—Å—è –Ω–∞ —Å—é—Ä–ø—Ä–∏–∑. –í—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–Ω—è–ª–∏, —á—Ç–æ —ç—Ç–æ –≥–æ–¥–æ–≤—â–∏–Ω–∞ –≤–∞—à–µ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞.', choices: [{ text: '–°—Ä–æ—á–Ω–æ –∑–∞–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É —Ü–≤–µ—Ç–æ–≤ (-4000‚ÇΩ)', effect: { m: -4000, w: 30, s: 10 }, next: 'null' }, { text: '–°–∫–∞–∑–∞—Ç—å: "–î–∞ –ª–∞–¥–Ω–æ, —á—Ç–æ –º—ã, –º–∞–ª–µ–Ω—å–∫–∏–µ?"', effect: { w: -60, s: 30 }, next: 'null' }] },
            'bad_shawarma': { type: 'random', title: '–®–∞—É—Ä–º–∞ –Ω–∞ –≤–æ–∫–∑–∞–ª–µ', text: '–ü–µ—Ä–µ–∫—É—Å–∏–ª–∏ –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ª–∞—Ä—å–∫–µ, –ø–æ–∫–∞ –±–µ–∂–∞–ª–∏ –≤ –æ—Ñ–∏—Å. –ñ–∏–≤–æ—Ç –∫—Ä—É—Ç–∏—Ç —Ç–∞–∫, —á—Ç–æ –∏—Å–∫—Ä—ã –∏–∑ –≥–ª–∞–∑.', choices: [{ text: '–í–∑—è—Ç—å –±–æ–ª—å–Ω–∏—á–Ω—ã–π (–º–∏–Ω—É—Å –ó–ü)', effect: { m: -2000, s: -10, w: 5 }, next: 'null' }, { text: '–¢–µ—Ä–ø–µ—Ç—å –∏ —Å–∏–¥–µ—Ç—å —É –º–æ–Ω–∏—Ç–æ—Ä–∞', effect: { s: 45 }, next: 'null' }] },
            'plumbing_leak': { type: 'random', title: '–ó–∞—Ç–æ–ø–∏–ª–∏ —Å–æ—Å–µ–¥–µ–π', text: '–°–Ω–∏–∑—É –ø—Ä–∏–±–µ–∂–∞–ª —Å–æ—Å–µ–¥ —Å—Ç—É—á–∞—Ç—å –≤ –¥–≤–µ—Ä—å. –í–∞—à–∞ —Å—Ç–∞—Ä–∞—è —Ç—Ä—É–±–∞ –≤ –≤–∞–Ω–Ω–æ–π –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª–∞.', choices: [{ text: '–û—Ç–¥–∞—Ç—å –¥–µ–Ω—å–≥–∏ —Å–æ—Å–µ–¥—É (-8000‚ÇΩ) –∏ –≤—ã–∑–≤–∞—Ç—å –º–∞—Å—Ç–µ—Ä–∞', effect: { m: -12000, s: 20, w: -10 }, next: 'null' }, { text: '–ó–≤–æ–Ω–∏—Ç—å –ü–∞–ª—ã—á—É, –ø—É—Å—Ç—å —Å–ø–∞—Å–∞–µ—Ç!', condition: (st) => st.neighbor > 50, effect: { m: -3000, s: 10, w: 5, n: -10 }, next: 'null' }] },
            'fake_guru_course': { type: 'random', title: '–ü—Ä–æ–¥–∞–∂–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞', text: '–í–µ–∑–¥–µ –≤—ã–ª–µ–∑–∞–µ—Ç —Ç–∞—Ä–≥–µ—Ç: "–ö—É—Ä—Å: –ö–∞–∫ —è —Å–¥–µ–ª–∞–ª 10 –º–ª–Ω –Ω–∞ MOEX –∑–∞ –º–µ—Å—è—Ü. –ö—É–ø–∏ –∑–∞ 5000‚ÇΩ."', choices: [{ text: '–ê –≤–¥—Ä—É–≥ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç? –ö—É–ø–∏—Ç—å!', effect: { m: -5000, s: 20 }, next: 'null' }, { text: '–°–∫—Ä—ã—Ç—å —ç—Ç—É –µ—Ä—É–Ω–¥—É', effect: { s: -5 }, next: 'null' }] },
            'lottery_ticket': { type: 'random', title: '–°–ø–æ—Ä—Ç–ª–æ—Ç–æ', text: '–í –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–º –Ω–∞ —Å–¥–∞—á—É –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –≤–∑—è—Ç—å –±–∏–ª–µ—Ç–∏–∫ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –õ–æ—Ç–µ—Ä–µ–∏.', choices: [{ text: '–í–∑—è—Ç—å! (100‚ÇΩ)', customAction: (st) => { if (Math.random() > 0.95) { st.money += 50000; logEvent('–°–æ—Ä–≤–∞–ª –±–∞–Ω–∫! +50000', 'good'); } else { st.money -= 100; logEvent('–ú–∏–º–æ', 'bad'); } }, next: 'null' }, { text: '–≠—Ç–æ –Ω–∞–ª–æ–≥ –Ω–∞ –≥–ª—É–ø–æ—Å—Ç—å', effect: { s: -2 }, next: 'null' }] },
            'found_money': { type: 'random', title: '–£–¥–∞—á–Ω–∞—è –Ω–∞—Ö–æ–¥–∫–∞', text: '–ò–¥–µ—Ç–µ –∫ –º–µ—Ç—Ä–æ. –í –ª—É–∂–µ –ª–µ–∂–∏—Ç —Ö—Ä—É—Å—Ç—è—â–∞—è –±—É–º–∞–∂–∫–∞.', choices: [{ text: '–ü–æ–¥–Ω—è—Ç—å –∏ –æ—Ç–º—ã—Ç—å (+1000‚ÇΩ)', effect: { m: 1000, s: -10 }, next: 'null' }] },
            'car_insurance': { type: 'random', title: '–ê–≤—Ç–æ—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ', text: '–ó–≤–æ–Ω–∏—Ç –±—Ä–æ–∫–µ—Ä, –ø–æ—Ä–∞ –ø—Ä–æ–¥–ª–µ–≤–∞—Ç—å –û–°–ê–ì–û –Ω–∞ –≤–∞—à —Ä—ã–¥–≤–∞–Ω.', choices: [{ text: '–û—Ñ–æ—Ä–º–∏—Ç—å –æ–Ω–ª–∞–π–Ω (-8000‚ÇΩ)', effect: { m: -8000, s: 5 }, next: 'null' }, { text: '–ï–∑–¥–∏—Ç—å –±–µ–∑ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ (—à—Ç—Ä–∞—Ñ—ã)', effect: { s: 25 }, next: 'null' }] },
            'dentist_visit': { type: 'random', title: '–ó—É–±–Ω–∞—è –±–æ–ª—å', text: '–ü—Ä–æ—Å–Ω—É–ª–∏—Å—å –æ—Ç –∞–¥—Å–∫–æ–π –±–æ–ª–∏. –ó—É–± –º—É–¥—Ä–æ—Å—Ç–∏ —Ä–µ—à–∏–ª, —á—Ç–æ –ø–æ—Ä–∞.', choices: [{ text: '–ò–¥—Ç–∏ –≤ –ø–ª–∞—Ç–Ω—É—é –∫–ª–∏–Ω–∏–∫—É (-10000‚ÇΩ)', effect: { m: -10000, s: -15, w: 5 }, next: 'null' }, { text: '–ü–∏—Ç—å –æ–±–µ–∑–±–æ–ª –∏ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å', effect: { s: 50 }, next: 'null' }] },
            'insomnia': { type: 'random', title: '–ë–µ—Å—Å–æ–Ω–Ω–∏—Ü–∞', text: '–í—ã –ª–µ–∂–∏—Ç–µ 3 —á–∞—Å–∞, —Å–º–æ—Ç—Ä—è –≤ –ø–æ—Ç–æ–ª–æ–∫. –í –≥–æ–ª–æ–≤–µ –∫—Ä—É—Ç—è—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫–∏ –ì–∞–∑–ø—Ä–æ–º–∞, —Å–ª–æ–≤–∞ –ù–∞—Å—Ç–∏ –∏ —Ä–µ–º–æ–Ω—Ç —Ç—Ä—É–±—ã.', choices: [{ text: '–í—Å—Ç–∞—Ç—å –∏ –ø—è–ª–∏—Ç—å—Å—è –≤ –º–æ–Ω–∏—Ç–æ—Ä', effect: { s: 40, m: 2000 }, next: 'null' }, { text: '–°–Ω–æ—Ç–≤–æ—Ä–Ω–æ–µ', effect: { s: -20 }, next: 'null' }] },
            'neighbor_police': { type: 'random', title: '–®—É–º —É –ü–∞–ª—ã—á–∞', text: '–í 2 —á–∞—Å–∞ –Ω–æ—á–∏ —É –ü–∞–ª—ã—á–∞ –≥—Ä–æ—Ö–æ—Ç –∏ –º—É–∑—ã–∫–∞. –ü—Ä–∏–µ—Ö–∞–ª –Ω–∞—Ä—è–¥ –ø–æ–ª–∏—Ü–∏–∏.', choices: [{ text: '–í—ã–π—Ç–∏ –∑–∞—Å—Ç—É–ø–∏—Ç—å—Å—è –∑–∞ –¥—Ä—É–≥–∞', effect: { s: 30, n: 40, w: -20 }, next: 'null' }, { text: '–ù–∞–¥–µ—Ç—å –±–µ—Ä—É—à–∏ –∏ —Å–ø–∞—Ç—å', effect: { s: -5, n: -10 }, next: 'null' }] },
            'weekend_overtime': { type: 'random', title: '–°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ', text: '–ù–∞—á–∞–ª—å–Ω–∏–∫ –ø—Ä–æ—Å–∏—Ç –≤—ã–π—Ç–∏ –≤ —Å—É–±–±–æ—Ç—É –∑–∞ –¥–≤–æ–π–Ω—É—é –æ–ø–ª–∞—Ç—É. –†—ã–Ω–∫–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –∑–∞–∫—Ä—ã—Ç—ã.', choices: [{ text: '–í—ã–π—Ç–∏ –∏ –æ—Ç–ø–∞—Ö–∞—Ç—å', effect: { m: 8000, s: 20, w: -10 }, next: 'null' }, { text: '–û—Å—Ç–∞—Ç—å—Å—è —Å –∂–µ–Ω–æ–π –≤ –∫—Ä–æ–≤–∞—Ç–∏', effect: { s: -30, w: 30 }, next: 'null' }] }
        };
    </script>
</body>

</html>